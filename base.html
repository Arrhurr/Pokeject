<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
</body>
<script src="JSON/charged_moves.js"></script>
<script src="JSON/cp_multiplier.js"></script>
<script src="JSON/fast_moves.js"></script>
<script src="JSON/generation.js"></script>
<script src="JSON/pokemon_moves.js"></script>
<script src="JSON/pokemon_type.js"></script>
<script src="JSON/pokemon.js"></script>
<script src="JSON/type_effectiveness.js"></script>
<script>
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
class Pokemon{
    static all_pokemons = []
    constructor(id,nom,form,attaque,defense,endurance,type){
        this._id = id;
        this._nom = nom;
        this._form = form;
        this._attaque =attaque;
        this._defense =defense;
        this._endurance = endurance;
        this._type=type;
////        this._attackability=attackability;
    }    
    toString(){console.log(this._id);console.log(this._nom);console.log(this._form);console.log(this._attaque);console.log(this._defense);console.log(this._endurance);console.log(this._type);};
    get id(){return this._id;};
    get nom(){return this._nom;};
    get form(){return this._form;};
    get defense(){return this._defense;};
    get type(){return this._type;};
    get attaque(){return this._attaque;};
///    get attackability(){return this._attackability;};
    static pokemonById(id){for(var i=0;i<this.all_pokemons.length;i++){
        if(this.all_pokemons[i].id==id){return this.all_pokemons[i];}}
    }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:


class Type{
    static all_types=[];
    constructor(type){
        this._type = type;
        this._effect = [];  
    }
    toString(){console.log(this._type);console.log(this._effect)};
    get type(){return this._type;};
    get effect(){return this._effect};
    set effect(effect){this._effect.push([effect,type_effectiveness[this._type][effect]]);};
    
    
    static exist(type){
        let vrai=1;
        for(var i=0;i<Type.all_types.length;i++){
            if(Type.all_types[i].type==type){
                vrai=0;
            }
        }
        return vrai;
    };
    static find(type){
        if(Type.exist(type)==1){
            return -1;
        }
        else{
            for(var i=0;i<Type.all_types.length;i++){
                if(Type.all_types[i].type==type){
                    return i;
                }
            }
        }
    }
}
///////////////////////////////////////////////////////////////////////////////
function import_pokemon(){
    for(var i=0;i<pokemon.length;i++){
        var poketype=[]
        for(var y=0;y<pokemon_type[i]["type"].length;y++){
                if(Type.exist(pokemon_type[i]["type"][y])==1){
                    Type.all_types.push(new Type(pokemon_type[i]["type"][y]));
                    for(var z=0;z<Type.all_types.length;z++){
                        Type.all_types[z].effect = pokemon_type[i]["type"][y]
                        if(z!=Type.all_types.length - 1){
                            Type.all_types[Type.all_types.length-1].effect = Type.all_types[z].type;
                        }
                    }
                }
                poketype.push(Type.all_types[Type.find(pokemon_type[i]["type"][y])]);
            }
            Pokemon.all_pokemons.push(new Pokemon(pokemon[i]["pokemon_id"],pokemon[i]["pokemon_name"],pokemon[i]["form"],pokemon[i]["base_attack"],pokemon[i]["base_defense"],pokemon[i]["base_stamina"],poketype));

        }
    }





class Attack{
    static all_attacks = [];
    constructor(name, type_move, genre_move){
        this._name;       //nom de l'attaque
        this._type_move;  //type de l'attaque
        this._genre_move; //attaque chargÃ©es ou rapide
        
    }
    
    toString(){console.log(this._name, this._type_move)};

    get name(){return this._name};
    get type_move(){return this._type_move};
    get genre_move(){return this._genre_move};
    

}
//for(var i=0;i<pokemon_moves.length;i++){
    //if(pokemon_moves["charged_moves"][i] == charged_moves["name"]){
        //all_attacks.push(new Attack(charged_moves["move_id"]));

import_pokemon();
console.log(Type.all_types.length);
console.log(Type.all_types);
console.log(Pokemon.pokemonById(5).toString());

</script>

</html>