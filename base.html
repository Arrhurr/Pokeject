<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
</body>
<script src="JSON/charged_moves.js"></script>
<script src="JSON/cp_multiplier.js"></script>
<script src="JSON/fast_moves.js"></script>
<script src="JSON/generation.js"></script>
<script src="JSON/pokemon_moves.js"></script>
<script src="JSON/pokemon_type.js"></script>
<script src="JSON/pokemon.js"></script>
<script src="JSON/type_effectiveness.js"></script>
<script>
class Pokemon{//à completer avec type
    static all_pokemons = []
    constructor(id,nom,form,attaque,defense,endurance){
        this._id = id;
        this._nom = nom;
        this._form = form;
        this._attaque =attaque;
        this._defense =defense;
        this._endurance = endurance;
    }    
    toString(){document.write(this._id);document.write(this._nom);document.write(this._form);document.write(this._attaque);document.write(this._defense);document.write(this._endurance);document.write(this._type);};
    get id(){return this._id;};
    get nom(){return this._nom;};
    get form(){return this._form;};
    get defense(){return this._defense;};
    get type(){return this._type;};
    get attaque(){return this._attaque;};
    pokemonById(id){for(var i=0;i<this.all_pokemons.length;i++){
        if(this.all_pokemons[i].id==id){return this.all_pokemons[i];}}
    }

    getTypes(){
        return import_type();
    }

    getAttacks(){
        return import_attack();
    }

}

function import_pokemon(){
    for(var i=0;i<pokemon.length;i++){
        if(pokemon[i]["form"]=="Normal"){
            all_pokemons.push(new Pokemon(pokemons[i]["pokemon_id"],pokemons[i]["pokemon_name"],pokemon[i]["form"],pokemon[i]["base_attack"],pokemon[i]["base_defense"],pokemon[i]["base_stamina"]));

        }
    }
}

class Type{
    constructor(type){
        this._type = type;
    }
    toString(){document.write(this._type);};
    get type(){return this._type;};

    efficacite(typeAtt, typeDef){
        pokemon_effectiveness[typeAtt][typeDef];//retourne le pourcentage de dégât dû au type
    }
}

function import_type(){
    for(var i=0;i<pokemon_type.length;i++){
        for(var j=1;j<pokemon_type.length;j++){
            if(pokemon_type[i]["form"]=="Normal" && pokemon_type[i]["type"]!=pokemon_type[j]["type"]){
                all_types.push(new Type(pokemon_type[i]["type"]));
            }

    }
    return all_types;
}

class Attack{
    static all_attacks = [];
    constructor(move){
        this._move;
    }
}

//function import_attack(){
    //for(var i=0;i<pokemon_moves.length;i++){
        //if(pokemon_moves["charged_moves"][i] == charged_moves["name"]){
            //all_attacks.push(new Attack(charged_moves["move_id"]));
        //}
        //else{

        //}
            
    //}
    //return all_attacks;
//}

import_pokemon();
document.write("fini");
for(var i=0;i<all_pokemons.length;i++){
    Pokemon.pokemonById[i].toString();
}

import_type();
console.log(new Type("feu").this._type);
}
</script>

</html>